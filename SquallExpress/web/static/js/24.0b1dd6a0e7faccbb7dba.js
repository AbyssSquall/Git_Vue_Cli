(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"1Y1y":function(t,e,i){},pycU:function(t,e,i){"use strict";i.r(e);var a=i("lcPr"),s={name:"upload",data:function(){return{defaultSrc:"./static/img/img.jpg",fileList:[],imgSrc:"",cropImg:"",dialogVisible:!1}},components:{VueCropper:i.n(a).a},methods:{setImage:function(t){var e=this,i=t.target.files[0];if(i.type.includes("image/")){var a=new FileReader;a.onload=function(t){e.dialogVisible=!0,e.imgSrc=t.target.result,e.$refs.cropper&&e.$refs.cropper.replace(t.target.result)},a.readAsDataURL(i)}},cropImage:function(){this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL()},cancelCrop:function(){this.dialogVisible=!1,this.cropImg=this.defaultSrc},imageuploaded:function(t){console.log(t)},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传接口上传失败，可更改为自己的服务器接口"})}},created:function(){this.cropImg=this.defaultSrc}},r=(i("y3pX"),i("KHd+")),o=Object(r.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-calendar"}),t._v(" 表单")]),t._v(" "),i("el-breadcrumb-item",[t._v("图片上传")])],1)],1),t._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"content-title"},[t._v("支持拖拽")]),t._v(" "),t._m(0),t._v(" "),i("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"/api/posts/",multiple:""}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "),i("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),i("em",[t._v("点击上传")])]),t._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])]),t._v(" "),i("div",{staticClass:"content-title"},[t._v("支持裁剪")]),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"crop-demo"},[i("img",{staticClass:"pre-img",attrs:{src:t.cropImg}}),t._v(" "),i("div",{staticClass:"crop-demo-btn"},[t._v("选择图片\n                "),i("input",{staticClass:"crop-input",attrs:{type:"file",name:"image",accept:"image/*"},on:{change:t.setImage}})])]),t._v(" "),i("el-dialog",{attrs:{title:"裁剪图片",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("vue-cropper",{ref:"cropper",staticStyle:{width:"100%",height:"300px"},attrs:{src:t.imgSrc,ready:t.cropImage,zoom:t.cropImage,cropmove:t.cropImage}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancelCrop}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"plugins-tips"},[this._v("\n            Element UI自带上传组件。\n            访问地址："),e("a",{attrs:{href:"http://element.eleme.io/#/zh-CN/component/upload",target:"_blank"}},[this._v("Element UI Upload")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"plugins-tips"},[this._v("\n            vue-cropperjs：一个封装了 cropperjs 的 Vue 组件。\n            访问地址："),e("a",{attrs:{href:"https://github.com/Agontuk/vue-cropperjs",target:"_blank"}},[this._v("vue-cropperjs")])])}],!1,null,"6f439780",null);e.default=o.exports},y3pX:function(t,e,i){"use strict";var a=i("1Y1y");i.n(a).a}}]);